@model w.Models.DIST

@{
	ViewBag.Title = "AddDist";
}
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="~/Scripts/jquery-3.3.1.min.js"></script>
</head>
<style>
	.container-fluid {
		color:greenyellow;
		margin-left: 250px;
	}
</style>
<div class="container-fluid">
	<h2>AddDist</h2>
	

	<script>
		/*
		$(document).ready(function () {
			$("#CID").change(function () {
				var countryid = $(this).val();
				debugger;
				$.ajax({
					type: "",
					url: "/ww/ListState?CID=" + countryid,
					contentType: "html",
					success: function (response) {
						debugger;
						$("#SID").empty();
						$("#SID").append(response);
					}
				})
			})

	   })
	 */
	</script>


	@using (Html.BeginForm())

	{
		@Html.AntiForgeryToken()

		<div class="form-horizontal">
			<h4>DIST</h4>
			<hr />
			@Html.ValidationSummary(true, "", new { @class = "text-danger" })

			<div class="form-group">
				<div class="col-md-10">
					@Html.DropDownList("CID", null, htmlAttributes: new { @class = "form-control" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.SID, "SID", htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.DropDownList("SID", null, htmlAttributes: new { @class = "form-control" })
					@Html.ValidationMessageFor(model => model.SID, "", new { @class = "text-danger" })
				</div>
			</div>

			<div class="form-group">
				@Html.LabelFor(model => model.DNAME, htmlAttributes: new { @class = "control-label col-md-2" })
				<div class="col-md-10">
					@Html.EditorFor(model => model.DNAME, new { htmlAttributes = new { @class = "form-control" } })
					@Html.ValidationMessageFor(model => model.DNAME, "", new { @class = "text-danger" })
				</div>
			</div>



			<div class="form-group">
				<div class="col-md-offset-2 col-md-10">
					<input type="submit" value="Create" class="btn btn-default" />
				</div>
			</div>
		</div>
	}


	<div>
		@Html.ActionLink("Back to List", "AllList")
	</div>
	<script>
		$(document).ready(function () {
			$("#CID").change(function () {
				$.get("/ww/GetListState", { cid: $("#CID").val() }, function (data) {
					$("#SID").empty();
					$.each(data, function (AddDist, row) {
						$("#SID").append("<option value='" + row.SID + "'>" + row.SNAME + "</option>")
					});

				});
			});


		})

	</script>
</div>